# KRaft mode Kafka server configuration for SBOM2CVE
# This config runs Kafka in combined mode (controller + broker) without Zookeeper

############################# Server Basics #############################

# The role of this server. Either 'broker', 'controller', or 'broker,controller'
process.roles=broker,controller

# The node id associated with this instance's roles
node.id=1

# The connect string for the controller quorum
controller.quorum.voters=1@localhost:9093

############################# Socket Server Settings #############################

# The address the socket server listens on
listeners=PLAINTEXT://:9092,CONTROLLER://:9093

# Hostname and port the broker will advertise to producers and consumers
advertised.listeners=PLAINTEXT://localhost:9092

# Maps listener names to security protocols
listener.security.protocol.map=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL

# Name of listener used for communication between brokers
inter.broker.listener.name=PLAINTEXT

# Listener name, hostname and port the broker will advertise to clients
controller.listener.names=CONTROLLER

############################# Log Basics #############################

# A comma separated list of directories under which to store log files
log.dirs=./data/kafka/logs

# The default number of log partitions per topic
num.partitions=3

# The number of threads per data directory to be used for log recovery at startup and flushing at shutdown
num.recovery.threads.per.data.dir=1

############################# Internal Topic Settings  #############################

# The replication factor for the group metadata internal topics "__consumer_offsets" and "__transaction_state"
offsets.topic.replication.factor=1
transaction.state.log.replication.factor=1
transaction.state.log.min.isr=1

############################# Log Retention Policy #############################

# The minimum age of a log file to be eligible for deletion due to age
log.retention.hours=168

# The maximum size of a log segment file. When this size is reached a new log segment will be created.
log.segment.bytes=1073741824

# The interval at which log segments are checked to see if they can be deleted
log.retention.check.interval.ms=300000

############################# Group Coordinator Settings #############################

# The following configuration specifies the time, in milliseconds, that the GroupCoordinator will delay the initial consumer rebalance.
group.initial.rebalance.delay.ms=0
